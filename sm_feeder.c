#include <fcntl.h>
#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define PAGE_SIZE 4096

int negate(const char * p)
{
	int in_fd;
	
	in_fd = open(p, O_RDONLY);
	unsigned char buf[PAGE_SIZE];
	int rb;
	while ((rb = read(in_fd, buf, PAGE_SIZE)) > 0) {
		for (int x = 0; x < rb; ++x) {
			printf("\\x%02hhX", ~buf[x]);
		}
	}
	putchar('\n');
	close(in_fd);
}

int main(const int c, char ** v)
{
	(void) c;
	char * arg;
	while((arg = *++v))
		negate(arg);
	return 0;
}
